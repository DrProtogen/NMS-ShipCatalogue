<!DOCTYPE html>
<html>

<head>
    <style>
        body {
            background-color: #131313;
            margin: auto;
            font-family: sans-serif;
            font-size: 14px;
            color: rgb(255, 255, 255);
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #494949;
            height: 3rem;
            padding: 0.5rem 1rem;
            margin: 0;
            border-bottom: 2px solid #868686;
            font-family: sans-serif;
            font-size: 28px;
            font-weight: 400;
            color: #f7f7f7;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            text-shadow: 1px 1px 1px #acacac, 1px 1px 5px #858585, 1px 1px 15px #333333, 1px 1px 30px #000000;
            line-height: 31px;
        }

        .toptext {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 3rem;
            padding: 0.5rem 1rem;
            margin: 0;
            font-family: sans-serif;
            font-size: 28px;
            font-weight: 400;
            color: #f7f7f7;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            text-shadow: 1px 1px 1px #acacac, 1px 1px 5px #858585, 1px 1px 15px #333333, 1px 1px 30px #000000;
            line-height: 31px;
        }

        .DropshipParts img,
        .ExplorerParts img,
        .ShuttleParts img,
        .RoyalParts img,
        .BioshipParts img,
        .SolarParts img,
        .SentinelParts img {
            position: absolute;
            max-width: 100%;
            max-height: 100%;
            width: auto;
            top: 150px;
            pointer-events: none;
        }

        .FighterParts {
            position: absolute;
            max-height: 70%;
            width: auto;
            top: 150px;
            left: 30%;
            pointer-events: none;
        }

        .DropshipParts,
        .ExplorerParts,
        .ShuttleParts,
        .RoyalParts,
        .BioshipParts,
        .SolarParts,
        .SentinelParts {
            position: relative;
            min-height: 362px;
            margin: 0 auto;
            width: 580px;
            user-select: none;
        }

        .DropshipParts img,
        .BioshipParts img {
            margin-left: 15%;
        }

        .ExplorerParts img {
            margin-left: 25%;
            margin-top: 10%;
        }

        .ShuttleParts img,
        .SolarParts img,
        .SentinelParts img {
            margin-left: 10%;
        }

        .shiptype {
            position: absolute;
            top: 85%;
            left: 50%;
            transform: translateX(-50%);
            width: 250px;
            height: 50px;
        }

        .btn {
            border: 2px solid 1px 1px 1px #acacac, 1px 1px 5px #858585, 1px 1px 15px #333333, 1px 1px 30px #000000;
            background-color: #494949;
            color: black;
            padding: 14px 28px;
            font-size: 16px;
            cursor: pointer;
            width: auto !important;
            height: auto !important;
            position: absolute !important;
            top: 50% !important;
            left: 50% !important;
            transform: translate(550%, 0%) !important;
            transition: all 0.3s ease-in-out !important;
        }

        .next {
            border-color: 2px solid 1px 1px 1px #acacac, 1px 1px 5px #858585, 1px 1px 15px #333333, 1px 1px 30px #000000;
            color: rgb(138, 138, 138);
        }

        .next:hover {
            background-color: #979797;
            color: rgb(189, 189, 189);
        }

        select {
            background-color: #494949;
            color: rgb(189, 189, 189);
            margin: 5px;
        }

        .parts-container {
            display: flex;
            justify-content: center;
            position: absolute;
            top: 85%;
            left: 50%;
            transform: translateX(-50%);
        }
    </style>
</head>

<body>
    <h1 class="header">No Man's Sky - Ship Customizer</h1>
    <h1 class="toptext">Select a ship type</h1>

    <img class="FighterParts" src="images/BaseFighter.png">

    <select class="shiptype" name="type" id="type">
        <option value="FIGHTER">Fighter</option>
        <option value="DROPSHIP">Hauler</option>
        <option value="EXPLORER">Explorer</option>
        <option value="SHUTTLE">Shuttle</option>
        <option value="ROYAL">Royal/Exotic/Squid</option>
        <option value="BIOSHIP">Living</option>
        <option value="SOLAR">Solar</option>
        <option value="SENTINEL">Sentinel</option>
    </select>

    <button class="btn next">Next</button>

    <div class="parts-container" id="parts-container" style="display: none;">


        <select id="wings"></select>


        <select id="engines"></select>


        <select id="dorsal"></select>


        <select id="cockpit"></select>


        <select id="noses"></select>

        <select id="subwings"></select>
    </div>

    <script>
        let selectedCode = "";

const wingsVectorParts = {
    "wings": ["Wings Droid", "Wings Halo", "Wings Heavy", "Wings Horizon", "Wings Mecha", "Wings Quasar", "Wings Serenity", "Wings Starjumper", "Wings Starscream", "Wings Vector"],
    "engines": ["Engine Box", "Engine Single", "Engine Triple"],
    "dorsal": ["Dorsal", "No Dorsal"],
    "cockpit": ["Cockpit Barrel", "Cockpit Jet", "Cockpit Multi", "Cockpit Snowspeeder", "Cockpit Viper"],
    "subwings": {
        "Wings Heavy": ["Bowie", "E-Wing", "Shockwave","Tie","No Subwing"],
        "Wings Droid": ["Bowie", "E-Wing", "No Subwing"],
    },
    "noses": {
        "Cockpit Barrel": ["No Noses"],
        "Cockpit Jet": ["No Noses"],
        "Cockpit Multi": ["Nose Alpha", "Nose Long", "Nose Needle", "Nose Rasa", "Nose Stubby"],
        "Cockpit Snowspeeder": ["No Noses"],
        "Cockpit Viper": ["No Noses"],
    }
};

const partValues = {
    "wings-droid": "A",
    "wings-firefly": "B",
    "wings-halo": "C",
    "wings-heavy": "D",
    "wings-horizon": "E",
    "wings-mecha": "F",
    "wings-quasar": "G",
    "wings-serenity": "H",
    "wings-starjumper": "I",
    "wings-starscream": "J",
    "wings-vector": "K",

    "engine-triple": "A",
    "engine-box": "B",
    "engine-single": "C",

    "dorsal": "A",
    "no-dorsal": "B",

    "cockpit-barrel": "A",
    "cockpit-jet": "B",
    "cockpit-multi": "C",
    "cockpit-snowspeeder": "D",
    "cockpit-viper": "E",

    "nose-alpha": "A",
    "nose-long": "B",
    "nose-needle": "C",
    "nose-rasa": "D",
    "nose-stubby": "E",
    "no-noses": "A",

    "bowie": "A",
    "e-wing": "B",
    "shockwave": "C",
    "full": "D",
    "mid": "E",
    "low": "F",
    "vulture": "G",
    "tie": "H",
    "aftershock": "I",
    "gull": "J",
    "no-subwing": ""
};

function updateImage() {
    selectedCode = "";

    const selectedWing = document.getElementById("wings").value;
    const selectedCockpit = document.getElementById("cockpit").value;

    if (selectedCockpit === "cockpit-multi") {
        selectedCode += partValues[document.getElementById("noses").value];
        selectedCode += partValues[selectedCockpit];
        selectedCode += partValues[document.getElementById("engines").value];
        selectedCode += partValues[selectedWing];
        const subwingsSelect = document.getElementById("subwings");
        if (subwingsSelect.style.display !== "none" && subwingsSelect.value) {
            selectedCode += partValues[subwingsSelect.value];
        }
        selectedCode += partValues[document.getElementById("dorsal").value];
    } else {
        selectedCode += partValues[document.getElementById("noses").value];
        selectedCode += partValues[selectedCockpit];
        selectedCode += partValues[document.getElementById("engines").value];
        selectedCode += partValues[selectedWing];
        const subwingsSelect = document.getElementById("subwings");
        if (subwingsSelect.style.display !== "none" && subwingsSelect.value) {
            selectedCode += partValues[subwingsSelect.value];
        }
        selectedCode += partValues[document.getElementById("dorsal").value];
    }

    selectedCode = selectedCode.replace(/\s+/g, "");

    let imgElement = document.querySelector(".FighterParts");
    imgElement.src = `images/FighterParts/${selectedCode}.png`;

   document.querySelector(".toptext").textContent = selectedCode;
}

function handleWingsChange() {
    const wingsSelect = document.getElementById("wings");
    const subwings = document.getElementById("subwings");

    const selectedWing = wingsSelect.options[wingsSelect.selectedIndex].text;

    if (wingsVectorParts.subwings[selectedWing]) {
        subwings.innerHTML = "";
        wingsVectorParts.subwings[selectedWing].forEach(option => {
            const optionElement = document.createElement("option");
            optionElement.value = option.toLowerCase().replace(/\s+/g, "-");
            optionElement.textContent = option;
            subwings.appendChild(optionElement);
        });

        if (wingsVectorParts.subwings[selectedWing].includes("Bowie")) {
            subwings.value = "bowie";
        }

        subwings.style.display = "block";
    } else {
        subwings.style.display = "none";
    }
}

function handleCockpitChange() {
    const cockpitSelect = document.getElementById("cockpit");
    const noses = document.getElementById("noses");

    const selectedCockpit = cockpitSelect.options[cockpitSelect.selectedIndex].text;

    if (wingsVectorParts.noses[selectedCockpit]) {
        noses.innerHTML = "";
        wingsVectorParts.noses[selectedCockpit].forEach(option => {
            const optionElement = document.createElement("option");
            optionElement.value = option.toLowerCase().replace(/\s+/g, "-");
            optionElement.textContent = option;
            noses.appendChild(optionElement);
        });

        if (wingsVectorParts.noses[selectedCockpit].includes("Nose Alpha")) {
            noses.value = "nose-alpha";
        }

        noses.style.display = "block";
    } else {
        noses.style.display = "none";
    }
}

function populateDropdowns() {
    // Populate all dropdowns except subwings and noses
    for (const [part, options] of Object.entries(wingsVectorParts)) {
        if (part === "subwings" || part === "noses") continue;

        const selectElement = document.getElementById(part);
        if (selectElement) {
            selectElement.innerHTML = ""; // Clear existing options
            options.forEach(option => {
                const optionElement = document.createElement("option");
                optionElement.value = option.toLowerCase().replace(/\s+/g, "-");
                optionElement.textContent = option;
                selectElement.appendChild(optionElement);
            });
        }
    }

    // Set default values for the dropdowns
    document.getElementById("wings").value = "wings-vector"; // Wings Vector
    document.getElementById("engines").value = "engine-triple"; // Engine Triple
    document.getElementById("dorsal").value = "dorsal"; // Dorsal
    document.getElementById("cockpit").value = "cockpit-multi"; // Cockpit Multi
    document.getElementById("noses").value = "nose-alpha"; // Nose Alpha

    // Handle subwings for Wings Vector
    handleWingsChange();
    handleCockpitChange(); // Handle noses for Cockpit Multi
    updateImage();
    document.getElementById("noses").style.display = "none";
}
document.querySelectorAll("#parts-container select").forEach(select => {
    select.addEventListener("change", updateImage);
});

document.getElementById("wings").addEventListener("change", function () {
    handleWingsChange();
    updateImage();
});

document.getElementById("cockpit").addEventListener("change", function () {
    handleCockpitChange();
    updateImage();
});

document.querySelector(".btn.next").addEventListener("click", function () {
    document.querySelector(".toptext").textContent = "Select ship parts";
    document.querySelector(".shiptype").style.display = "none";
    document.getElementById("parts-container").style.display = "flex";
    document.getElementById("engines").value = "engine-triple";
    document.getElementById("wings").value = "wings-multi";
    
    const wingsSelect = document.getElementById("wings");
    if (wingsSelect.options.length > 0) {
        wingsSelect.selectedIndex = 0;
    }
    populateDropdowns();
    handleWingsChange();
    handleCockpitChange();
    updateImage();
});

document.getElementById("type").addEventListener("change", function () {
    const shipType = this.value;
});
    </script>
</body>

</html>